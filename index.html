<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIP Investment Calculator</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f7f9fc;
        }
        .calculator {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        h1 {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 30px;
            text-align: center;
        }
        .columns-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }
        .column {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        .column-header {
            background-color: #f2f6fc;
            color: #2c3e50;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            border-radius: 6px 6px 0 0;
            border: 1px solid #ddd;
            margin-bottom: -1px;
        }
        .input-container {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 0 0 6px 6px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 14px;
        }
        input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
        }
        input[disabled] {
            background-color: #f2f2f2;
            cursor: not-allowed;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background-color 0.3s;
            width: 100%;
            margin-top: 20px;
        }
        button:hover {
            background-color: #2980b9;
        }
        .output-table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 10px;
            font-size: 14px;
        }
        .output-table th, .output-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }
        .output-table th {
            background-color: #f2f6fc;
            color: #2c3e50;
            font-weight: 600;
        }
        .output-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .output-table tr:hover {
            background-color: #f0f7ff;
        }
        .output-table td:first-child {
            text-align: left;
            font-weight: 600;
            background-color: #f2f6fc;
        }
        .currency:before {
            content: "₹ ";
        }
        .initial-investment {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 6px;
            border: 1px solid #ddd;
            background-color: #f8f9fa;
        }
        .initial-investment label {
            font-weight: bold;
            margin-right: 10px;
        }
        .initial-investment input {
            max-width: 150px;
        }
        .tab-container {
            margin-top: 20px;
        }
        .tab {
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
            border-radius: 6px 6px 0 0;
        }
        .tab button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            font-size: 15px;
            width: auto;
            margin: 0;
            border-radius: 0;
            color: #2c3e50;
        }
        .tab button:hover {
            background-color: #ddd;
        }
        .tab button.active {
            background-color: #3498db;
            color: white;
        }
        .tabcontent {
            display: none;
            padding: 20px;
            border: 1px solid #ccc;
            border-top: none;
            border-radius: 0 0 6px 6px;
            animation: fadeEffect 1s;
        }
        @keyframes fadeEffect {
            from {opacity: 0;}
            to {opacity: 1;}
        }
        .table-responsive {
            overflow-x: auto;
        }
        footer {
            text-align: center;
            margin-top: 30px;
            color: #7f8c8d;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h1>SIP Investment Calculator</h1>
        
        <div class="initial-investment">
            <label for="initial-investment">Initial SIP Amount (₹)</label>
            <input type="number" id="initial-investment" min="100" step="100" value="15000">
        </div>
        
        <div class="columns-container">
            <!-- 5 Years Column -->
            <div class="column">
                <div class="column-header">5 Years</div>
                <div class="input-container">
                    <div class="form-group">
                        <label for="annual-increase-5y">Annual Increase in SIP (%)</label>
                        <input type="number" id="annual-increase-5y" min="0" max="100" step="1" value="5">
                    </div>
                    <div class="form-group">
                        <label for="annual-returns-5y">Annual Returns (%)</label>
                        <input type="number" id="annual-returns-5y" min="1" max="100" step="0.1" value="14">
                    </div>
                    <div class="form-group">
                        <label for="monthly-returns-5y">Monthly Returns (%) (Auto-calculated)</label>
                        <input type="number" id="monthly-returns-5y" disabled>
                    </div>
                </div>
                <div class="result-container">
                    <table class="output-table">
                        <tr>
                            <td>SIP Investment (Rs.)</td>
                            <td id="summary-sip-5y">-</td>
                        </tr>
                        <tr>
                            <td>Annual Increase in SIP (%)</td>
                            <td id="summary-increase-5y">-</td>
                        </tr>
                        <tr>
                            <td>Annual Returns (%)</td>
                            <td id="summary-returns-annual-5y">-</td>
                        </tr>
                        <tr>
                            <td>Monthly Returns (%)</td>
                            <td id="summary-returns-monthly-5y">-</td>
                        </tr>
                        <tr>
                            <td>Portfolio Value (Rs.)</td>
                            <td class="currency" id="summary-value-5y">-</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <!-- 10 Years Column -->
            <div class="column">
                <div class="column-header">10 Years</div>
                <div class="input-container">
                    <div class="form-group">
                        <label for="annual-increase-10y">Annual Increase in SIP (%)</label>
                        <input type="number" id="annual-increase-10y" min="0" max="100" step="1" value="0">
                    </div>
                    <div class="form-group">
                        <label for="annual-returns-10y">Annual Returns (%)</label>
                        <input type="number" id="annual-returns-10y" min="1" max="100" step="0.1" value="14">
                    </div>
                    <div class="form-group">
                        <label for="monthly-returns-10y">Monthly Returns (%) (Auto-calculated)</label>
                        <input type="number" id="monthly-returns-10y" disabled>
                    </div>
                </div>
                <div class="result-container">
                    <table class="output-table">
                        <tr>
                            <td>SIP Investment (Rs.)</td>
                            <td id="summary-sip-10y">-</td>
                        </tr>
                        <tr>
                            <td>Annual Increase in SIP (%)</td>
                            <td id="summary-increase-10y">-</td>
                        </tr>
                        <tr>
                            <td>Annual Returns (%)</td>
                            <td id="summary-returns-annual-10y">-</td>
                        </tr>
                        <tr>
                            <td>Monthly Returns (%)</td>
                            <td id="summary-returns-monthly-10y">-</td>
                        </tr>
                        <tr>
                            <td>Portfolio Value (Rs.)</td>
                            <td class="currency" id="summary-value-10y">-</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <!-- 15 Years Column -->
            <div class="column">
                <div class="column-header">15 Years</div>
                <div class="input-container">
                    <div class="form-group">
                        <label for="annual-increase-15y">Annual Increase in SIP (%)</label>
                        <input type="number" id="annual-increase-15y" min="0" max="100" step="1" value="4">
                    </div>
                    <div class="form-group">
                        <label for="annual-returns-15y">Annual Returns (%)</label>
                        <input type="number" id="annual-returns-15y" min="1" max="100" step="0.1" value="10">
                    </div>
                    <div class="form-group">
                        <label for="monthly-returns-15y">Monthly Returns (%) (Auto-calculated)</label>
                        <input type="number" id="monthly-returns-15y" disabled>
                    </div>
                </div>
                <div class="result-container">
                    <table class="output-table">
                        <tr>
                            <td>SIP Investment (Rs.)</td>
                            <td id="summary-sip-15y">-</td>
                        </tr>
                        <tr>
                            <td>Annual Increase in SIP (%)</td>
                            <td id="summary-increase-15y">-</td>
                        </tr>
                        <tr>
                            <td>Annual Returns (%)</td>
                            <td id="summary-returns-annual-15y">-</td>
                        </tr>
                        <tr>
                            <td>Monthly Returns (%)</td>
                            <td id="summary-returns-monthly-15y">-</td>
                        </tr>
                        <tr>
                            <td>Portfolio Value (Rs.)</td>
                            <td class="currency" id="summary-value-15y">-</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <button id="calculate">Calculate SIP Returns</button>
        
        <div class="tab-container">
            <div class="tab">
                <button class="tablinks active" onclick="openTab(event, 'DetailedView')">Month-by-Month View</button>
            </div>
            
            <div id="DetailedView" class="tabcontent" style="display: block;">
                <div class="table-responsive">
                    <table class="output-table" id="detailed-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Month-Year</th>
                                <th>SIP Amount (Rs.) for 5-years</th>
                                <th>Portfolio Value 5 Years (Rs.)</th>
                                <th>SIP Amount (Rs.) for 10-years</th>
                                <th>Portfolio Value 10 Years (Rs.)</th>
                                <th>SIP Amount (Rs.) for 15-years</th>
                                <th>Portfolio Value 15 Years(Rs.)</th>
                            </tr>
                        </thead>
                        <tbody id="detailed-tbody">
                            <!-- This will be filled by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>SIP Investment Calculator | <a href="https://github.com/yourusername/sip-calculator" target="_blank">GitHub Repository</a></p>
    </footer>

    <script>
        // Function to open tabs
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }
        
        // Function to format currency
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-IN', { 
                maximumFractionDigits: 0 
            }).format(amount);
        }
        
        // Function to calculate monthly returns from annual returns
        function calculateMonthlyReturn(annualReturn) {
            // Formula: Monthly Return = (1 + Annual Return)^(1/12) - 1
            return (Math.pow(1 + annualReturn / 100, 1/12) - 1) * 100;
        }
        
        // Function to get month name
        function getMonthName(month) {
            const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            return monthNames[month];
        }
        
        // Function to calculate SIP returns
        function calculateSIP() {
            // Get input values
            const initialInvestment = parseFloat(document.getElementById('initial-investment').value);
            
            const annualIncrease5y = parseFloat(document.getElementById('annual-increase-5y').value) / 100;
            const annualIncrease10y = parseFloat(document.getElementById('annual-increase-10y').value) / 100;
            const annualIncrease15y = parseFloat(document.getElementById('annual-increase-15y').value) / 100;
            
            const annualReturns5y = parseFloat(document.getElementById('annual-returns-5y').value) / 100;
            const annualReturns10y = parseFloat(document.getElementById('annual-returns-10y').value) / 100;
            const annualReturns15y = parseFloat(document.getElementById('annual-returns-15y').value) / 100;
            
            const monthlyReturns5y = calculateMonthlyReturn(annualReturns5y);
            const monthlyReturns10y = calculateMonthlyReturn(annualReturns10y);
            const monthlyReturns15y = calculateMonthlyReturn(annualReturns15y);
            
            // Update monthly returns display fields
            document.getElementById('monthly-returns-5y').value = monthlyReturns5y.toFixed(2);
            document.getElementById('monthly-returns-10y').value = monthlyReturns10y.toFixed(2);
            document.getElementById('monthly-returns-15y').value = monthlyReturns15y.toFixed(2);
            
            // Calculate SIP returns
            let portfolioValue5y = 0;
            let portfolioValue10y = 0;
            let portfolioValue15y = 0;
            
            let currentSipAmount5y = initialInvestment;
            let currentSipAmount10y = initialInvestment;
            let currentSipAmount15y = initialInvestment;
            
            // Clear the detailed table
            const detailedTbody = document.getElementById('detailed-tbody');
            detailedTbody.innerHTML = '';
            
            // Current date for the starting point of calculation
            const currentDate = new Date();
            const startMonth = currentDate.getMonth();
            const startYear = currentDate.getFullYear();
            
            // Calculate month by month for 15 years (180 months)
            for (let i = 0; i < 180; i++) {
                const month = (startMonth + i) % 12;
                const year = startYear + Math.floor((startMonth + i) / 12);
                const monthYear = getMonthName(month) + "-" + (year.toString().substr(2, 2));
                
                // Calculate SIP amounts with annual increase (if applicable)
                if (i > 0 && month === startMonth) {
                    // Apply annual increase on the anniversary of the start month
                    if (i <= 60) { // First 5 years
                        currentSipAmount5y *= (1 + annualIncrease5y);
                    }
                    if (i <= 120) { // First 10 years
                        currentSipAmount10y *= (1 + annualIncrease10y);
                    }
                    if (i <= 180) { // First 15 years
                        currentSipAmount15y *= (1 + annualIncrease15y);
                    }
                }
                
                // Add new SIP amount to portfolio values
                portfolioValue5y = i < 60 ? (portfolioValue5y * (1 + monthlyReturns5y / 100)) + currentSipAmount5y : portfolioValue5y;
                portfolioValue10y = i < 120 ? (portfolioValue10y * (1 + monthlyReturns10y / 100)) + currentSipAmount10y : portfolioValue10y;
                portfolioValue15y = i < 180 ? (portfolioValue15y * (1 + monthlyReturns15y / 100)) + currentSipAmount15y : portfolioValue15y;
                
                // Add row to detailed table for each month
                if (i < 180) { // Display all 15 years
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${i + 1}</td>
                        <td>${monthYear}</td>
                        <td>${i < 60 ? Math.round(currentSipAmount5y) : '-'}</td>
                        <td>${i < 60 ? Math.round(portfolioValue5y) : '-'}</td>
                        <td>${i < 120 ? Math.round(currentSipAmount10y) : '-'}</td>
                        <td>${i < 120 ? Math.round(portfolioValue10y) : '-'}</td>
                        <td>${i < 180 ? Math.round(currentSipAmount15y) : '-'}</td>
                        <td>${i < 180 ? Math.round(portfolioValue15y) : '-'}</td>
                    `;
                    detailedTbody.appendChild(row);
                }
            }
            
            // Update summary table
            document.getElementById('summary-sip-5y').textContent = formatCurrency(initialInvestment);
            document.getElementById('summary-sip-10y').textContent = formatCurrency(initialInvestment);
            document.getElementById('summary-sip-15y').textContent = formatCurrency(initialInvestment);
            
            document.getElementById('summary-increase-5y').textContent = (annualIncrease5y * 100).toFixed(0) + '%';
            document.getElementById('summary-increase-10y').textContent = (annualIncrease10y * 100).toFixed(0) + '%';
            document.getElementById('summary-increase-15y').textContent = (annualIncrease15y * 100).toFixed(0) + '%';
            
            document.getElementById('summary-returns-annual-5y').textContent = (annualReturns5y * 100).toFixed(0) + '%';
            document.getElementById('summary-returns-annual-10y').textContent = (annualReturns10y * 100).toFixed(0) + '%';
            document.getElementById('summary-returns-annual-15y').textContent = (annualReturns15y * 100).toFixed(0) + '%';
            
            document.getElementById('summary-returns-monthly-5y').textContent = monthlyReturns5y.toFixed(2) + '%';
            document.getElementById('summary-returns-monthly-10y').textContent = monthlyReturns10y.toFixed(2) + '%';
            document.getElementById('summary-returns-monthly-15y').textContent = monthlyReturns15y.toFixed(2) + '%';
            
            document.getElementById('summary-value-5y').textContent = formatCurrency(portfolioValue5y);
            document.getElementById('summary-value-10y').textContent = formatCurrency(portfolioValue10y);
            document.getElementById('summary-value-15y').textContent = formatCurrency(portfolioValue15y);
        }
        
        // Event listener for calculate button
        document.getElementById('calculate').addEventListener('click', calculateSIP);
        
        // Event listeners for annual returns to calculate monthly returns
        document.getElementById('annual-returns-5y').addEventListener('input', function() {
            const annualReturn = parseFloat(this.value);
            const monthlyReturn = calculateMonthlyReturn(annualReturn);
            document.getElementById('monthly-returns-5y').value = monthlyReturn.toFixed(2);
        });
        
        document.getElementById('annual-returns-10y').addEventListener('input', function() {
            const annualReturn = parseFloat(this.value);
            const monthlyReturn = calculateMonthlyReturn(annualReturn);
            document.getElementById('monthly-returns-10y').value = monthlyReturn.toFixed(2);
        });
        
        document.getElementById('annual-returns-15y').addEventListener('input', function() {
            const annualReturn = parseFloat(this.value);
            const monthlyReturn = calculateMonthlyReturn(annualReturn);
            document.getElementById('monthly-returns-15y').value = monthlyReturn.toFixed(2);
        });
        
        // Initial calculation on page load
        window.addEventListener('load', function() {
            // Set the initial monthly returns
            const annualReturn5y = parseFloat(document.getElementById('annual-returns-5y').value);
            const annualReturn10y = parseFloat(document.getElementById('annual-returns-10y').value);
            const annualReturn15y = parseFloat(document.getElementById('annual-returns-15y').value);
            
            document.getElementById('monthly-returns-5y').value = calculateMonthlyReturn(annualReturn5y).toFixed(2);
            document.getElementById('monthly-returns-10y').value = calculateMonthlyReturn(annualReturn10y).toFixed(2);
            document.getElementById('monthly-returns-15y').value = calculateMonthlyReturn(annualReturn15y).toFixed(2);
            
            // Calculate SIP returns
            calculateSIP();
        });
    </script>
</body>
</html>
